import{_ as d,c as b,j as t,a as e,G as n,w as i,ax as l,B as s,o as u}from"./chunks/framework.BdeBNCXE.js";const g="/assets/use/koishi-install-onebot.png",k="/assets/use/koishi-onebot-go-setting.png",f="/assets/use/koishi-onebot-setting.png",E=JSON.parse('{"title":"接入框架","description":"","frontmatter":{},"headers":[],"relativePath":"use/integration.md","filePath":"use/integration.md","lastUpdated":1732515014000}'),m={name:"use/integration.md"},h={id:"nonebot",tabindex:"-1"},N={id:"koishi",tabindex:"-1"},v={id:"onebotv11-rs",tabindex:"-1"},P={id:"node-napcat-ts",tabindex:"-1"},w={id:"minato",tabindex:"-1"},x={id:"kovi",tabindex:"-1"};function B(C,o,O,K,S,V){const a=s("NolebasePageProperties"),r=s("VPNolebaseInlineLinkPreview"),p=s("NolebaseGitChangelog");return u(),b("div",null,[o[30]||(o[30]=t("h1",{id:"接入框架",tabindex:"-1"},[e("接入框架 "),t("a",{class:"header-anchor",href:"#接入框架","aria-label":'Permalink to "接入框架"'},"​")],-1)),n(a),t("h2",h,[n(r,{href:"https://nonebot.dev/docs/",target:"_blank",rel:"noreferrer"},{default:i(()=>o[0]||(o[0]=[e("NoneBot")])),_:1}),o[1]||(o[1]=e()),o[2]||(o[2]=t("a",{class:"header-anchor",href:"#nonebot","aria-label":'Permalink to "[NoneBot](https://nonebot.dev/docs/)"'},"​",-1))]),o[31]||(o[31]=l("<ol><li><p>配置 NoneBot</p><p>这里假设你已经安装了 OneBot 适配器</p><p>默认情况下，NoneBot 是启用了反向 ws 的，如果出现 403，可能是默认配置问题，需要配置 <code>token</code> 才能正常连接。</p><p>具体方法为：修改 NoneBot 配置文件 <code>.env</code>，添加 <code>ONEBOT_ACCESS_TOKEN=你在 NapCat 中配置的 token</code>。</p><p>然后，启动 NoneBot，可以看到 NoneBot 输出的端口号，如 <code>8080</code>。</p></li><li><p>配置 NapCat</p><p>在 NapCat 配置添加反向 ws 地址，地址为 <code>ws://127.0.0.1:8080/onebot/v11/ws</code>, 这里的 <code>8080</code> 是 NoneBot 输出的端口号，<code>/onebot/v11/ws</code> 是 NoneBot onebot 适配器默认的路径</p></li></ol>",1)),t("h2",N,[n(r,{href:"https://koishi.chat",target:"_blank",rel:"noreferrer"},{default:i(()=>o[3]||(o[3]=[e("Koishi")])),_:1}),o[4]||(o[4]=e()),o[5]||(o[5]=t("a",{class:"header-anchor",href:"#koishi","aria-label":'Permalink to "[Koishi](https://koishi.chat)"'},"​",-1))]),o[32]||(o[32]=l('<ol><li><p>在 Koishi 插件市场搜索 <code>onebot</code> 并安装 <code>adapter-onebot</code>，如下图：</p><p><img src="'+g+'" alt="koishi-install-onebot"></p></li><li><p>安装完之后，点击修改→配置</p><p><img src="'+k+'" alt="koishi-onebot-go-setting"></p></li><li><p>配置 OneBot</p><p>这里以 WS 反向连接为例：</p><ul><li><code>selfId</code> 为你的机器人的 QQ 号</li><li><code>token</code> 需和 NapCat 配置的 <code>token</code> 一致，当然，如果没有配置 token，则留空。</li><li><code>protocol</code> 选择 ws-reverse</li></ul><p>其他配置保持默认即可，点击保存，然后启用插件。</p><p><img src="'+f+'" alt="koishi-onebot-setting"></p><p>配置完成后，在 NapCat 的配置中添加 WS 反向地址。Koishi OneBot 的 ws 反向地址为 <code>ws://127.0.0.1:5140/onebot</code>。添加完成后，点击保存即可。</p></li></ol><h2 id="olivos" tabindex="-1">OlivOS <a class="header-anchor" href="#olivos" aria-label="Permalink to &quot;OlivOS&quot;">​</a></h2>',2)),t("p",null,[o[7]||(o[7]=e("支持正向和反向ws以及http详见 ")),n(r,{href:"https://doc.olivos.wiki/",target:"_blank",rel:"noreferrer"},{default:i(()=>o[6]||(o[6]=[e("文档")])),_:1})]),t("h2",v,[n(r,{href:"https://github.com/canxin121/onebotv11_rs",target:"_blank",rel:"noreferrer"},{default:i(()=>o[8]||(o[8]=[e("onebotv11_rs")])),_:1}),o[9]||(o[9]=e()),o[10]||(o[10]=t("a",{class:"header-anchor",href:"#onebotv11-rs","aria-label":'Permalink to "[onebotv11_rs](https://github.com/canxin121/onebotv11_rs)"'},"​",-1))]),o[33]||(o[33]=t("p",null,"支持正向和反向ws以及http",-1)),t("h2",P,[n(r,{href:"https://github.com/huankong233/node-napcat-ts",target:"_blank",rel:"noreferrer"},{default:i(()=>o[11]||(o[11]=[e("node-napcat-ts")])),_:1}),o[12]||(o[12]=e()),o[13]||(o[13]=t("a",{class:"header-anchor",href:"#node-napcat-ts","aria-label":'Permalink to "[node-napcat-ts](https://github.com/huankong233/node-napcat-ts)"'},"​",-1))]),t("ol",null,[o[17]||(o[17]=t("li",null,[t("p",null,"配置 NapCat"),t("p",null,"在 NapCat 配置启用正向 ws")],-1)),t("li",null,[o[15]||(o[15]=t("p",null,"配置 node-napcat-ts",-1)),t("p",null,[n(r,{href:"https://node-napcat-ts.huankong.top/guide/getting-started",target:"_blank",rel:"noreferrer"},{default:i(()=>o[14]||(o[14]=[e("详见 node-napcat-ts 文档")])),_:1})]),o[16]||(o[16]=t("p",null,"如果出现连接失败，可能是配置问题，需要配置 token 才能正常连接。",-1))])]),t("h2",w,[n(r,{href:"https://github.com/huankong233/Minato",target:"_blank",rel:"noreferrer"},{default:i(()=>o[18]||(o[18]=[e("Minato")])),_:1}),o[19]||(o[19]=e()),o[20]||(o[20]=t("a",{class:"header-anchor",href:"#minato","aria-label":'Permalink to "[Minato](https://github.com/huankong233/Minato)"'},"​",-1))]),o[34]||(o[34]=t("p",null,[e("基于 "),t("code",null,"node-napcat-ts"),e(" 实现的，所以需要的配置类似")],-1)),o[35]||(o[35]=t("p",null,[e("只需要配置几个插件 "),t("code",null,"/src/plugins"),e(" 即可运行, 配置方法: 复制 "),t("code",null,"config.default.ts"),e(" 文件到 "),t("code",null,"config.ts"),e(" 并配置其中配置项即可运行")],-1)),t("h2",x,[n(r,{href:"https://github.com/Threkork/Kovi",target:"_blank",rel:"noreferrer"},{default:i(()=>o[21]||(o[21]=[e("Kovi")])),_:1}),o[22]||(o[22]=e()),o[23]||(o[23]=t("a",{class:"header-anchor",href:"#kovi","aria-label":'Permalink to "[Kovi](https://github.com/Threkork/Kovi)"'},"​",-1))]),o[36]||(o[36]=t("p",null,"Rust Onebot V11 插件框架。",-1)),o[37]||(o[37]=t("p",null,"将 NapCat 配置启用正向ws。",-1)),t("p",null,[o[25]||(o[25]=e("编写插件或使用社区插件，编译启动即可。（")),n(r,{href:"https://threkork.github.io/kovi-doc",target:"_blank",rel:"noreferrer"},{default:i(()=>o[24]||(o[24]=[e("文档")])),_:1}),o[26]||(o[26]=e("里面非常详细哦）"))]),t("p",null,[o[28]||(o[28]=e("编写插件可使用 ")),n(r,{href:"https://crates.io/crates/kovi-plugin-expand-napcat",target:"_blank",rel:"noreferrer"},{default:i(()=>o[27]||(o[27]=[e("NapCat Api 拓展")])),_:1}),o[29]||(o[29]=e(" 。"))]),n(p)])}const M=d(m,[["render",B]]);export{E as __pageData,M as default};
